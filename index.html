<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualizador 3D de Sismos</title>
    <!-- Favicon: inline SVG with Earth emoji so the tab shows üåç without extra files -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Ctext y='50%25' x='50%25' dominant-baseline='middle' text-anchor='middle' font-size='48'%3E%F0%9F%8C%8D%3C/text%3E%3C/svg%3E">
    <link rel="stylesheet" href="style.css">
    <style>
        /* Critical inline styles to guarantee the dark, space-like layout */
        :root{ color-scheme: dark; }
        html,body{ height:100%; margin:0; padding:0; background: #05060a; color:#e6eef6; }
        body{ background: linear-gradient(180deg,#03040a 0%, #07101a 60%) !important; }
        .topbar{ display:flex; align-items:center; justify-content:space-between; padding:10px 16px; background: rgba(255,255,255,0.02); border-bottom:1px solid rgba(255,255,255,0.03); }
        .brand h1{ font-size:1rem; margin:0; color: #e6eef6; }
        #globe-container{ position:absolute; inset:0; background:transparent; }
        #info-panel{ position:absolute; right:20px; top:20px; background: rgba(255,255,255,0.02); color:#cbd7ea; border-radius:10px; padding:10px; }
    </style>
    <!-- Three.js ES Modules -->
</head>
<body>
    <header class="topbar" role="banner">
        <div class="brand">
            <div class="logo" aria-hidden="true" title="Sismos 3D">
                <span class="logo-emoji" aria-hidden="true">üåç</span>
            </div>
            <h1>Sismos 3D</h1>
        </div>
        <div class="header-meta">
            <span class="author">Salvador Fern√°ndez Dur√°n 2025</span>
        </div>
    </header>

    <main>
        <aside id="left-panel" aria-label="Panel de filtros">
            <div class="panel-header">
                <h2>Filtros</h2>
                <button type="button" id="left-mini-toggle" class="toggle-btn left-mini-toggle" aria-expanded="false" aria-label="Expandir panel">+</button>
            </div>
            <div id="filtros-container" class="controls" aria-label="Controles de filtros"></div>
        </aside>
        <div id="globe-container"></div>
        <aside id="info-panel" aria-live="polite">
            <div class="panel-header">
                <h2>Detalles</h2>
                <div class="panel-actions">
                <button type="button" id="info-toggle" class="toggle-btn" aria-expanded="true" aria-label="Minimizar panel">‚àí</button>
                </div>
            </div>
        <!-- mini-toggle shown when the info panel is collapsed (mirrors left panel behavior) -->
        <button type="button" id="info-mini-toggle" class="toggle-btn info-mini-toggle" aria-expanded="false" aria-label="Expandir panel">+</button>
            <div id="quake-details">Haz clic en un marcador para ver detalles.</div>
            <div id="legend">
                <h3>Leyenda</h3>
                <div style="margin-bottom:8px;"><small style="font-weight:700;color:#e6eef6;">Magnitud</small></div>
                <div class="legend-row"><span class="legend-color" style="background:#ffffff; border:1px solid #ddd"></span> <small>0 - 3</small></div>
                <div class="legend-row"><span class="legend-color" style="background:#2ecc40"></span> <small>3 - 6</small></div>
                <div class="legend-row"><span class="legend-color" style="background:#ffe066"></span> <small>6 - 7</small></div>
                <div class="legend-row"><span class="legend-color" style="background:#ff9900"></span> <small>7 - 8</small></div>
                <div class="legend-row"><span class="legend-color" style="background:#ff3333"></span> <small> 8+</small></div>
            </div>
        </aside>
    </main>

    <div id="loading-spinner" class="hidden">Cargando sismos</div>
    <script type="module" src="script.js"></script>
</body>
</html>
